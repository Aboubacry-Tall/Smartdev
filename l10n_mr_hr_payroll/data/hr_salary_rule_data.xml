<?xml version="1.0" encoding="utf-8"?>

<odoo>
    <data noupdate="1">
        <!-- BASIC -->
        <function model="hr.salary.rule" name="write">
            <value model="hr.salary.rule" search="[
                ('struct_id', '=', ref('l10n_mr_hr_payroll.hr_payroll_salary_mr_structure_base')),
                ('code', '=', 'BASIC')]"/>
            <value eval="{'amount_python_compute': 'result = (payslip.version_id.wage / 30) * payslip.worked_days_custom','sequence': 0}"/>


        </function>



        <record id="l10n_mr_hr_rule_sh" model="hr.salary.rule">
            <field name="name">Salaire Horaire</field>
            <field name="code">SALH</field>
            <field name="sequence">1</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>
            <field name="amount_python_compute">result = version.wage / 173.33</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>
        <!-- ALLOWANCES -->
        <record id="l10n_mr_hr_rule_extra_hours_25" model="hr.salary.rule">
            <field name="name">Heures supplémentaires 25%</field>
            <field name="code">EXTRA_HOURS_25</field>
            <field name="sequence">1</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.HPS"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'EXTRA_HOURS_25' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['EXTRA_HOURS_25'].amount</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>
        <record id="l10n_mr_hr_rule_extra_hours_50" model="hr.salary.rule">
            <field name="name">Heures supplémentaires 50%</field>
            <field name="code">EXTRA_HOURS_50</field>
            <field name="sequence">2</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.HPS"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'EXTRA_HOURS_50' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['EXTRA_HOURS_50'].amount</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>
        <record id="l10n_mr_hr_rule_extra_hours_100" model="hr.salary.rule">
            <field name="name">Heures supplémentaires 100%</field>
            <field name="code">EXTRA_HOURS_100</field>
            <field name="sequence">3</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.HPS"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'EXTRA_HOURS_100' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['EXTRA_HOURS_100'].amount</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>
        <record id="l10n_mr_hr_rule_extra_hours_115" model="hr.salary.rule">
            <field name="name">Heures supplémentaires 115%</field>
            <field name="code">EXTRA_HOURS_115</field>
            <field name="sequence">2</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.HPS"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'EXTRA_HOURS_115' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['EXTRA_HOURS_115'].amount * SALH  * 1.15
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>
        <record id="l10n_mr_hr_rule_extra_hours_140" model="hr.salary.rule">
            <field name="name">Heures supplémentaires 140%</field>
            <field name="code">EXTRA_HOURS_140</field>
            <field name="sequence">2</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.HPS"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'EXTRA_HOURS_140' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['EXTRA_HOURS_140'].amount * SALH  * 1.4</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>
        <record id="l10n_mr_hr_rule_extra_hours_150" model="hr.salary.rule">
            <field name="name">Heures supplémentaires 150%</field>
            <field name="code">EXTRA_HOURS_150</field>
            <field name="sequence">3</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.HPS"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'EXTRA_HOURS_150' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['EXTRA_HOURS_150'].amount * SALH  * 1.5</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>
        <record id="l10n_mr_hr_rule_extra_hours_100" model="hr.salary.rule">
            <field name="name">Heures supplémentaires 200%</field>
            <field name="code">EXTRA_HOURS_200</field>
            <field name="sequence">3</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.HPS"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'EXTRA_HOURS_200' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['EXTRA_HOURS_200'].amount * SALH  * 2</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_rule_total_hps" model="hr.salary.rule">
            <field name="name">Heures supplémentaires</field>
            <field name="code">TOTAL_HOURS</field>
            <field name="sequence">3</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">none</field>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>

            <field name="amount_python_compute">result = categories['HPS']</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="l10n_mr_hr_rule_total_avc_accompte" model="hr.salary.rule">
            <field name="name">Total avance et accompte</field>
            <field name="code">TOTAL_AVS_ACPT</field>
            <field name="sequence">176</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">none</field>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>

            <field name="amount_python_compute">result = categories['AVS_ACPT']</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="l10n_mr_hr_rule_total_indemite_pers" model="hr.salary.rule">
            <field name="name">Indemite pers sur salaire</field>
            <field name="code">IPS</field>
            <field name="sequence">199</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">none</field>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>

            <field name="amount_python_compute">result = categories['ALW'] + categories['AUTREALW']</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="l10n_mr_hr_rule_tauxcnss_patronale" model="hr.salary.rule">
            <field name="name">TxCNSS PAT</field>
            <field name="code">Taux_CNSS_PATRONALES</field>
            <field name="sequence">100</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">none</field>
            <field name="amount_select">fix</field>
            <field name="appears_on_payslip" eval="False"/>
            <field name="amount_fix">13</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_rule_taux_medecin_travail" model="hr.salary.rule">
            <field name="name">TAUX MEDECINE DU TRAVAIL</field>
            <field name="code">TAUX_MEDECINE_DU_TRAVAIL</field>
            <field name="sequence">100</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">none</field>
            <field name="amount_select">fix</field>
            <field name="amount_fix">2</field>

            <field name="appears_on_payslip" eval="False"/>

            <field name="amount_python_compute">2</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>
        <record id="l10n_mr_hr_payroll_rules_employee_cnss_pl" model="hr.salary.rule">
            <field name="name">CNSS PL</field>
            <field name="code">CNSS_PL</field>
            <field name="sequence">99</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="amount_select">code</field>

            <field name="amount_python_compute">
        
gross_salary = result_rules['GROSS']['total']
if gross_salary &lt;= 15000:
    result = gross_salary
else:
    result = 15000
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_rule_cnss_patronale" model="hr.salary.rule">
            <field name="name">CNSS PATRONALES</field>
            <field name="code">CNSS_PATRONALES</field>
            <field name="sequence">100</field>
            <field name="category_id" ref="hr_payroll.COMP"/>
            <field name="condition_select">none</field>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>

            <field name="amount_python_compute">
result = CNSS_PL * 0.13</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_rule_medecin_travail" model="hr.salary.rule">
            <field name="name">MEDECINE DU TRAVAIL</field>
            <field name="code">MEDECINE_DU_TRAVAIL</field>
            <field name="sequence">100</field>
            <field name="category_id" ref="hr_payroll.COMP"/>
            <field name="condition_select">none</field>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>

            <field name="amount_python_compute">
result = CNSS_PL * 0.02
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="l10n_mr_hr_rule_charge_pat_cnam" model="hr.salary.rule">
            <field name="name">CHARGE PAT CNAM</field>
            <field name="code">CHARGE_PAT_CNAM</field>
            <field name="sequence">100</field>
            <field name="category_id" ref="hr_payroll.COMP"/>
            <field name="condition_select">none</field>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>
            <field name="amount_python_compute">
gross_salary = result_rules['GROSS']['total']
result =gross_salary * 0.05
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <!-- 
        <record id="l10n_mr_hr_TAUXrule_charge_pat_cnam" model="hr.salary.rule">
            <field name="name">TAUX CHARGE PAT CNAM</field>
            <field name="code">TAUX_CHARGE_PAT_CNAM</field>
            <field name="sequence">100</field>
            <field name="category_id" ref="hr_payroll.COMP"/>
            <field name="condition_select">none</field>
            <field name="amount_select">fix</field>
            <field name="appears_on_payslip" eval="False"/>
            <field name="amount_fix">5</field>
            <field name="amount_python_compute">5</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record> -->



        <record id="l10n_mr_hr_salary_rule_prime_panier" model="hr.salary.rule">
            <field name="code">PPANIER</field>
            <field name="name">Prime de panier</field>
            <field name="sequence">177</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.AUTREALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = 'PPANIER' in inputs</field>
            <field name="amount_python_compute">result = inputs['PPANIER'].amount * 103.87</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_lait" model="hr.salary.rule">
            <field name="code">LAIT</field>
            <field name="name">LAIT</field>
            <field name="sequence">177</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.AUTREALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = 'LAIT' in inputs</field>
            <field name="amount_python_compute">result = inputs['LAIT'].amount * 40</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_rule_seniority" model="hr.salary.rule">
            <field name="name">Ancienneté</field>
            <field name="code">SENIORITY</field>
            <field name="sequence">4</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="condition_python">
months = (payslip.date_from.year - version.contract_date_start.year) * 12 + (payslip.date_from.month - version.contract_date_start.month)
result = months >= 24
            </field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
months = (payslip.date_from.year - version.contract_date_start.year) * 12 + (payslip.date_from.month - version.contract_date_start.month)
years = months / 12
basic_salary = version.category_id.salary_min
result = 0
for low, high, rate in payslip._rule_parameter('l10n_mr'):
    if low &lt;= years &lt;= high:
        result = (basic_salary / 30) * payslip.worked_days_custom 
        result_rate = rate * 100
        break
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="default_accompge" model="hr.salary.rule">
            <field name="category_id" ref="l10n_mr_hr_payroll.AVS_ACPT"/>
            <field name="name">Acompte</field>
            <field name="code">ACCT</field>
            <field name="amount_select">code</field>
            <field name="sequence">174</field>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'ACCT' in inputs</field>
            <field name="amount_python_compute">
result = -inputs['ACCT'].amount
result_name = inputs['ACCT'].name
            </field>
            <field name="struct_id" ref="structure_conges"/>
        </record>


        <record id="default_avanceannuele" model="hr.salary.rule">
            <field name="category_id" ref="l10n_mr_hr_payroll.AVS_ACPT"/>
            <field name="name">Avance Annuelle</field>
            <field name="code">AVNCANL</field>
            <field name="amount_select">code</field>
            <field name="sequence">174</field>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'AVNCANL' in inputs</field>
            <field name="amount_python_compute">
result = -inputs['AVNCANL'].amount
result_name = inputs['AVNCANL'].name
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="default_accompte" model="hr.salary.rule">
            <field name="category_id" ref="l10n_mr_hr_payroll.AVS_ACPT"/>
            <field name="name">Acompte</field>
            <field name="code">ACCT</field>
            <field name="amount_select">code</field>
            <field name="sequence">174</field>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'ACCT' in inputs</field>
            <field name="amount_python_compute">
result = -inputs['ACCT'].amount
result_name = inputs['ACCT'].name
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="default_avancefetes" model="hr.salary.rule">
            <field name="category_id" ref="l10n_mr_hr_payroll.AVS_ACPT"/>
            <field name="name">Avances Fêtes</field>
            <field name="code">AVNCFT</field>
            <field name="amount_select">code</field>
            <field name="sequence">176</field>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'AVNCFT' in inputs</field>
            <field name="amount_python_compute">
result = -inputs['AVNCFT'].amount
result_name = inputs['AVNCFT'].name
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="default_pretmru" model="hr.salary.rule">
            <field name="category_id" ref="l10n_mr_hr_payroll.PRET"/>
            <field name="name">Prêt en MRU</field>
            <field name="code">PRTMRU</field>
            <field name="amount_select">code</field>
            <field name="sequence">175</field>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'PRTMRU' in inputs</field>
            <field name="amount_python_compute">
result = -inputs['PRTMRU'].amount
result_name = inputs['PRTMRU'].name
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <!-- GROSS -->
        <function model="hr.salary.rule" name="write">
            <value model="hr.salary.rule" search="[
                ('struct_id', '=', ref('l10n_mr_hr_payroll.hr_payroll_salary_mr_structure_base')),
                ('code', '=', 'GROSS')]"/>
            <value eval="{'amount_python_compute': &quot;result = categories['BASIC'] + categories['ALW'] + categories['HPS']&quot;,'sequence': 99}"/>
        </function>

        <!-- UNTAXABLE DEDUCTIONS -->
        <record id="l10n_mr_hr_payroll_rules_employee_cnss" model="hr.salary.rule">
            <field name="name">CNSS</field>
            <field name="code">CNSS</field>
            <field name="sequence">101</field>
            <field name="category_id" ref="hr_payroll.DED"/>
            <field name="amount_select">code</field>

            <field name="amount_python_compute">
        
gross_salary = result_rules['GROSS']['total']
if gross_salary &lt;= 15000:
    result = -gross_salary * 0.01
else:
    result = -150
            </field>
            <field name="partner_id" ref="hr_CNSS_register"/>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>
        <record id="l10n_mr_hr_payroll_rules_employee_t_CNSS" model="hr.salary.rule">
            <field name="name">TxCNSS Sal</field>
            <field name="code">T_CNSS</field>
            <field name="sequence">102</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">none</field>
            <field name="amount_select">fix</field>
            <field name="appears_on_payslip" eval="False"/>

            <field name="amount_fix">1</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>



        <record id="l10n_mr_hr_payroll_rules_employee_t_cnam" model="hr.salary.rule">
            <field name="name">TxCNAM SAL</field>
            <field name="code">T_CNAM</field>
            <field name="sequence">102</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">none</field>
            <field name="amount_select">fix</field>
            <field name="appears_on_payslip" eval="False"/>

            <field name="amount_fix">4</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_payroll_rules_employee_cnam" model="hr.salary.rule">
            <field name="name">CNAM</field>
            <field name="code">CNAM</field>
            <field name="sequence">102</field>
            <field name="category_id" ref="hr_payroll.DED"/>
            <field name="amount_select">code</field>

            <field name="amount_python_compute">
gross_salary = result_rules['GROSS']['total']
result =-gross_salary * 0.04

            </field>
            <field name="partner_id" ref="hr_CNAM_register"/>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_payroll_rules_employee_mt" model="hr.salary.rule">
            <field name="name">Montant Imposable</field>
            <field name="code">MT</field>
            <field name="sequence">103</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="amount_select">code</field>

            <field name="amount_python_compute">
gross_salary = result_rules['GROSS']['total']
if gross_salary &gt; 0:
    result = -(gross_salary - 6000 - abs(CNSS) - abs(CNAM))
else:
    result = 0
            </field>
            <field name="partner_id" ref="hr_CNAM_register"/>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>



        <record id="l10n_mr_hr_payroll_rules_employee_its" model="hr.salary.rule">
            <field name="name">ITS</field>
            <field name="code">ITS</field>
            <field name="sequence">104</field>
            <field name="category_id" ref="hr_payroll.DED"/>
            <field name="amount_select">code</field>

            <field name="amount_python_compute">
gross_salary = result_rules['GROSS']['total']
MT = abs(MT)
params = payslip._rule_parameter('l10n_mr_its')

result = 0
for low, high, rate, deduction in params:
    if low &lt;= MT &lt; high:
        result = -(MT * rate - deduction)
        break
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_taux_its" model="hr.salary.rule">
            <field name="code">Taux_ITS</field>
            <field name="name">Taux ITS</field>
            <field name="sequence">104</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="amount_select">code</field>
            <field name="partner_id" ref="hr_CNAM_register"/>

            <field name="amount_python_compute">
gross_salary = result_rules['GROSS']['total']
MT = abs(MT)
params = payslip._rule_parameter('l10n_mr_its')

result = 0
for low, high, rate, deduction in params:
    if low &lt;= MT &lt; high:
        result = rate * 100
        break
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="l10n_mr_hr_salary_rule_rend_collectif" model="hr.salary.rule">
            <field name="code">RENDCOL</field>
            <field name="name">Prime Rendement collectif</field>
            <field name="sequence">64</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = ((version.wage * 0.03 ) / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="hr_salary_rule_prime_panier" model="hr.salary.rule">
            <field name="amount_select">fix</field>
            <field eval="103.87" name="amount_fix"/>
            <field name="quantity">'WORK100' in worked_days and worked_days['WORK100'].number_of_days</field>
            <field name="code">PPANIR</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="name">Prime de Panier</field>
            <field name="sequence" eval="33"/>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="hr_salary_rule_prime_lait" model="hr.salary.rule">
            <field name="amount_select">fix</field>
            <field eval="400" name="amount_fix"/>
            <field name="quantity">'WORK100' in worked_days and worked_days['WORK100'].number_of_days</field>
            <field name="code">PLAIT</field>
            <field name="condition_select">python</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="name">LAIT</field>
            <field name="sequence" eval="34"/>
            <field name="condition_python">result = version.job_id.l10n_mr_lait == True</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="l10n_mr_hr_salary_rule_prod_tech" model="hr.salary.rule">
            <field name="code">TECHPROD</field>
            <field name="name">Production technique</field>
            <field name="sequence">63</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = version.l10n_mr_Production_technique > 0</field>
            <field name="amount_python_compute">result = (version.l10n_mr_Production_technique / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>



        <record id="l10n_mr_hr_salary_rule_transp" model="hr.salary.rule">
            <field name="code">TRANSP</field>
            <field name="name">Transport</field>
            <field name="sequence">65</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
if version.job_id.p_transport > version.category_id.p_transport:
    result = (version.job_id.p_transport / 30) * payslip.worked_days_custom
elif version.l10n_mr_transporter_par == True:
    result = 0
else:
    result = (version.category_id.p_transport / 30) * payslip.worked_days_custom
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_logem" model="hr.salary.rule">
            <field name="code">LOGEM</field>
            <field name="name">Logement</field>
            <field name="sequence">66</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
if version.job_id.p_logt > version.category_id.p_logt:
    result = (version.job_id.p_logt / 30) * payslip.worked_days_custom
else:
    result = (version.category_id.p_logt / 30) * payslip.worked_days_custom
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_teleph" model="hr.salary.rule">
            <field name="code">TELEPH</field>
            <field name="name">Téléphone</field>
            <field name="sequence">67</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
if version.job_id.p_telephone > 0:
    result = (version.job_id.p_telephone / 30) * payslip.worked_days_custom
else:
    result = (version.category_id.p_telephone / 30) * payslip.worked_days_custom
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_interim" model="hr.salary.rule">
            <field name="code">INTERIM</field>
            <field name="name">Intérimaire</field>
            <field name="sequence">68</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = 'INTERIM' in inputs</field>
            <field name="amount_python_compute">result = inputs['INTERIM'].amount </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_puv" model="hr.salary.rule">
            <field name="code">PUV</field>
            <field name="name">PUV</field>
            <field name="sequence">69</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = version.l10n_mr_PUV > 0</field>
            <field name="amount_python_compute">result = (version.l10n_mr_PUV / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_respons" model="hr.salary.rule">
            <field name="code">RESPONS</field>
            <field name="name">Responsabilité</field>
            <field name="sequence">70</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = version.l10n_mr_Responsabilite > 0</field>
            <field name="amount_python_compute">result = (version.l10n_mr_Responsabilite / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_sursalaire" model="hr.salary.rule">
            <field name="code">SURSAL</field>
            <field name="name">Sur Salaire</field>
            <field name="sequence">70</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = version.l10n_mr_sursalaire > 0</field>
            <field name="amount_python_compute">result = (version.l10n_mr_sursalaire / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_astreint" model="hr.salary.rule">
            <field name="code">ASTREINT</field>
            <field name="name">Astreinte</field>
            <field name="sequence">71</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = version.l10n_mr_Astreinte > 0</field>
            <field name="amount_python_compute">result = (version.l10n_mr_Astreinte / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_fonc" model="hr.salary.rule">
            <field name="code">PFONC</field>
            <field name="name">Prime de Fonction</field>
            <field name="sequence">72</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = version.job_id.p_fonction > 0</field>
            <field name="amount_python_compute">result = (version.job_id.p_fonction / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_saisie_salaire" model="hr.salary.rule">
            <field name="code">SAISIE</field>
            <field name="name">SAISIE</field>
            <field name="sequence">73</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = version.l10n_mr_saisie > 0</field>
            <field name="amount_python_compute">result = (version.l10n_mr_saisie / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_risque" model="hr.salary.rule">
            <field name="code">RISQ</field>
            <field name="name">Risque</field>
            <field name="sequence">74</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = version.l10n_mr_Risque > 0</field>
            <field name="amount_python_compute">result = (version.l10n_mr_Risque / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_eloign" model="hr.salary.rule">
            <field name="code">ELOIGNEM</field>
            <field name="name">Eloignement</field>
            <field name="sequence">76</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = version.l10n_mr_Eloignement > 0</field>
            <field name="amount_python_compute">result = (version.l10n_mr_Eloignement / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_eloignement" model="hr.salary.rule">
            <field name="code">DIFF</field>
            <field name="name">Differentiel</field>
            <field name="sequence">75</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = version.l10n_mr_Differentiel > 0</field>
            <field name="amount_python_compute">result = (version.l10n_mr_Differentiel / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_charge_locales" model="hr.salary.rule">
            <field name="code">CHARGELOC</field>
            <field name="name">Charges locative</field>
            <field name="sequence">76</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = version.l10n_mr_Charges_locales > 0</field>
            <field name="amount_python_compute">result = (version.l10n_mr_Charges_locales / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_caisse" model="hr.salary.rule">
            <field name="code">CAISSE</field>
            <field name="name">Caisse</field>
            <field name="sequence">77</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = version.job_id.p_prime_caisse > 0</field>
            <field name="amount_python_compute">result = (version.job_id.p_prime_caisse / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_technicite" model="hr.salary.rule">
            <field name="code">TECHNICIT3</field>
            <field name="name">Technicité</field>
            <field name="sequence">78</field>
            <field name="category_id" ref="hr_payroll.ALW"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = version.l10n_mr_Technicite > 0</field>
            <field name="amount_python_compute">result = (version.l10n_mr_Technicite / 30) * payslip.worked_days_custom</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="l10n_mr_hr_rule_date_embauche" model="hr.salary.rule">
            <field name="name">Date d'embauche</field>
            <field name="code">DATEEMBAUCHE</field>
            <field name="sequence">100</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>
            <field name="amount_python_compute">
result = result = version.contract_date_start.strftime('%d%m%Y') if version.contract_date_start else ''</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_rule_numero_cnss" model="hr.salary.rule">
            <field name="name">N CNSS</field>
            <field name="active">False</field>
            <field name="code">N_CNSS</field>
            <field name="sequence">100</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = payslip.employee_id.l10n_mr_cnss_number > 0</field>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>
            <field name="amount_python_compute">
result = payslip.employee_id.l10n_mr_cnss_number</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_total_gain" model="hr.salary.rule">
            <field name="code">TOTAL_GAIN</field>
            <field name="name">TOTAL GAIN</field>
            <field name="sequence">199</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>
            <field name="amount_python_compute">result = result_rules['GROSS']['total'] + categories['AUTREALW']</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_total_brut" model="hr.salary.rule">
            <field name="code">TOTAL_BRUT</field>
            <field name="name">TOTAL BRUT</field>
            <field name="sequence">198</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>
            <field name="amount_python_compute">result = result_rules['GROSS']['total']</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rule_total_retenue" model="hr.salary.rule">
            <field name="code">TOTAL_RETENUE</field>
            <field name="name">TOTAL RETENUE</field>
            <field name="sequence">199</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>

            <field name="amount_python_compute">result = categories['DED'] + categories['AVS_ACPT']</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <!-- Cotisation Conge-->


        <record id="l10n_mr_hr_salary_allocation_conges" model="hr.salary.rule">
            <field name="code">ALLOCG</field>
            <field name="name">Allocation de congés</field>
            <field name="sequence">177</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.CG"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>
            <field name="amount_python_compute">
result = inputs['ALLOCG'].amount
result_name = inputs['ALLOCG'].name
</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_salary_rulecnamoconge" model="hr.salary.rule">
            <field name="code">CNAM_ALLOCG</field>
            <field name="name">CNAM</field>
            <field name="sequence">178</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.CNAM"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>
            <field name="amount_python_compute">
gross_salary =  inputs['ALLOCG'].amount
result =-gross_salary * 0.04</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_rule_charge_pat_cnam_CG" model="hr.salary.rule">
            <field name="name">CHARGE PAT CNAM</field>
            <field name="code">CHARGE_PAT_CNAM_CG</field>
            <field name="sequence">179</field>
            <field name="category_id" ref="hr_payroll.COMP"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>
            <field name="appears_on_payslip" eval="False"/>
            <field name="amount_python_compute">
gross_salary =  inputs['ALLOCG'].amount
result =gross_salary * 0.05
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_payroll_rules_employee_t_cnam_cg" model="hr.salary.rule">
            <field name="name">TxCNAM SAL CG</field>
            <field name="code">T_CNAM_CG</field>
            <field name="sequence">179</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>
            <field name="amount_select">fix</field>
            <field name="appears_on_payslip" eval="False"/>

            <field name="amount_fix">4</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="l10n_mr_hr_salary_rulecnssconge" model="hr.salary.rule">
            <field name="code">CNSS_ALLOCG</field>
            <field name="name">CNSS</field>
            <field name="sequence">178</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.CNSS"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>
            <field name="amount_python_compute">
gross_salary =  inputs['ALLOCG'].amount
if gross_salary &lt;= 15000:
    result = -gross_salary * 0.01
else:
    result = -150
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_payroll_rules_employee_cnss_plCG" model="hr.salary.rule">
            <field name="name">CNSS PL CG</field>
            <field name="code">CNSS_PL_CG</field>
            <field name="sequence">177</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>

            <field name="amount_python_compute">
        
gross_salary =  inputs['ALLOCG'].amount
if gross_salary &lt;= 15000:
    result = gross_salary
else:
    result = 15000
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="l10n_mr_hr_rule_cnss_patronale_cg" model="hr.salary.rule">
            <field name="name">CNSS PATRONALES</field>
            <field name="code">CNSS_PATRONALES_CG</field>
            <field name="sequence">179</field>
            <field name="category_id" ref="hr_payroll.COMP"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>
            <field name="appears_on_payslip" eval="False"/>
            <field name="amount_python_compute">
result = CNSS_PL_CG * 0.13</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>




        <record id="l10n_mr_hr_rule_medecin_travailcg" model="hr.salary.rule">
            <field name="name">MEDECINE DU TRAVAIL</field>
            <field name="code">MEDECINE_DU_TRAVAIL_CG</field>
            <field name="sequence">179</field>
            <field name="category_id" ref="hr_payroll.COMP"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>
            <field name="appears_on_payslip" eval="False"/>

            <field name="amount_python_compute">
result = CNSS_PL_CG * 0.02
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <record id="l10n_mr_hr_rule_taux_medecin_travail_taux_cg" model="hr.salary.rule">
            <field name="name">TAUX MEDECINE DU TRAVAIL CG</field>
            <field name="code">TAUX_MEDECINE_DU_TRAVAIL_CG</field>
            <field name="sequence">179</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>
            <field name="amount_select">fix</field>
            <field name="amount_fix">2</field>

            <field name="appears_on_payslip" eval="False"/>

            <field name="amount_python_compute">2</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="l10n_mr_hr_rule_tauxcnss_patronale_taux_cg" model="hr.salary.rule">
            <field name="name">TxCNSS PAT CG</field>
            <field name="code">Taux_CNSS_PATRONALES_CG</field>
            <field name="sequence">179</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>
            <field name="amount_select">fix</field>
            <field name="appears_on_payslip" eval="False"/>
            <field name="amount_fix">13</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="l10n_mr_hr_salary_rulemtconge" model="hr.salary.rule">
            <field name="code">MT_ALLOCG</field>
            <field name="name">MT</field>
            <field name="sequence">178</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>
            <field name="amount_python_compute">
gross_salary =  inputs['ALLOCG'].amount
if gross_salary &gt; 0:
    result = -(gross_salary - 6000 - abs(CNSS_ALLOCG) - abs(CNAM_ALLOCG))
else:
    result = 0
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="l10n_mr_hr_salary_ruleitsconge" model="hr.salary.rule">
            <field name="code">ITS_ALLOCG</field>
            <field name="name">ITS</field>
            <field name="sequence">178</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.ITS"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>
            <field name="amount_python_compute">
gross_salary =  inputs['ALLOCG'].amount
MT = abs(MT_ALLOCG)
params = payslip._rule_parameter('l10n_mr_its')

result = 0
for low, high, rate, deduction in params:
    if low &lt;= MT &lt; high:
        result = -(MT * rate - deduction)
        break
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>


        <record id="l10n_mr_hr_salary_rule_taux_its_CG" model="hr.salary.rule">
            <field name="code">Taux_ITS_CG</field>
            <field name="name">Tx ITS CG</field>
            <field name="sequence">177</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
gross_salary =  inputs['ALLOCG'].amount
MT = abs(MT)
params = payslip._rule_parameter('l10n_mr_its')

result = 0
for low, high, rate, deduction in params:
    if low &lt;= MT &lt; high:
        result = rate * 100
        break
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>





        <record id="l10n_mr_hr_salary_rulenetconge" model="hr.salary.rule">
            <field name="code">NET1</field>
            <field name="name">NET1</field>
            <field name="sequence">199</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.NETCG"/>
            <field name="condition_select">python</field>
            <field name="amount_select">code</field>
            <field name="condition_python">result = 'ALLOCG' in inputs</field>
            <field name="amount_python_compute">
result = inputs['ALLOCG'].amount + CNAM_ALLOCG +CNSS_ALLOCG + ITS_ALLOCG
            </field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>






        <!-- Cotisation Conge -->


        <record id="l10n_mr_hr_salary_rulecnammois" model="hr.salary.rule">
            <field name="code">CNAM_MOIS</field>
            <field name="name">CNAM MOIS</field>
            <field name="sequence">196</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>
            <field name="amount_python_compute">result = -result_rules['CNAM']['total'] -result_rules['CNAM_ALLOCG']['total'] + result_rules['CHARGE_PAT_CNAM']['total'] + result_rules['CHARGE_PAT_CNAM_CG']['total']</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>
        <record id="l10n_mr_hr_salary_rulecnssmois" model="hr.salary.rule">
            <field name="code">CNSS_MOIS</field>
            <field name="name">CNSS MOIS</field>
            <field name="sequence">196</field>
            <field name="category_id" ref="l10n_mr_hr_payroll.UNTAXABLE_DED"/>
            <field name="amount_select">code</field>
            <field name="appears_on_payslip" eval="False"/>
            <field name="amount_python_compute">result = -result_rules['CNSS']['total'] -result_rules['CNSS_ALLOCG']['total'] + result_rules['CNSS_PATRONALES']['total'] + result_rules['CNSS_PATRONALES_CG']['total']+ result_rules['MEDECINE_DU_TRAVAIL_CG']['total']+ result_rules['MEDECINE_DU_TRAVAIL']['total']</field>
            <field name="struct_id" ref="hr_payroll_salary_mr_structure_base"/>
        </record>

        <!-- NET -->
        <function model="hr.salary.rule" name="write">
            <value model="hr.salary.rule" search="[
                ('struct_id', '=', ref('l10n_mr_hr_payroll.hr_payroll_salary_mr_structure_base')),
                ('code', '=', 'NET')]"/>
            <value eval="{'amount_python_compute': &quot;result = result_rules['GROSS']['total'] + categories['DED'] + categories['AVS_ACPT']+ categories['PRET']  + categories['AUTREALW']+ categories['NETCG']&quot;}"/>
        </function>
    </data>
</odoo>
