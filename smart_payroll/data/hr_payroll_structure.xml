<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        
        <!-- Cadre Supérieur (C) Payroll Structure -->
        <record id="hr_payroll_structure_cadre_superieur" model="hr.payroll.structure">
            <field name="name">Cadre Supérieur (C)</field>
            <field name="country_id" ref="base.mr"/>
            <field name="type_id" ref="hr_payroll_structure_type_cadre_superieur"/>
        </record>

        <!-- Salary Rules for Cadre Supérieur (C) -->
        
        <!-- Basic Salary Rule -->
        <record id="hr_salary_rule_sb_c" model="hr.salary.rule">
            <field name="name">SB-C</field>
            <field name="code">SB-C</field>
            <field name="category_id" ref="hr_salary_rule_category_basic"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result = rules['NET']['total'] > categories['NET'] * 0.10
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">1</field>
        </record>

        <!-- Social Security Rule -->
        <record id="hr_salary_rule_ss_c" model="hr.salary.rule">
            <field name="name">SS-C</field>
            <field name="code">SS-C</field>
            <field name="category_id" ref="hr_salary_rule_category_ded"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result = rules['NET']['total'] > categories['NET'] * 0.10
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">2</field>
        </record>

        <!-- Income Tax Rule -->
        <record id="hr_salary_rule_il_c" model="hr.salary.rule">
            <field name="name">IL-C</field>
            <field name="code">IL-C</field>
            <field name="category_id" ref="hr_salary_rule_category_ded"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result = rules['NET']['total'] > categories['NET'] * 0.10
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">3</field>
        </record>

        <!-- IT Rule -->
        <record id="hr_salary_rule_it_c" model="hr.salary.rule">
            <field name="name">IT-C</field>
            <field name="code">IT-C</field>
            <field name="category_id" ref="hr_salary_rule_category_ded"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result = rules['NET']['total'] > categories['NET'] * 0.10
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">4</field>
        </record>

        <!-- Professional Tax Rule -->
        <record id="hr_salary_rule_pr_c" model="hr.salary.rule">
            <field name="name">PR-C</field>
            <field name="code">PR-C</field>
            <field name="category_id" ref="hr_salary_rule_category_ded"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result = rules['NET']['total'] > categories['NET'] * 0.10
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">5</field>
        </record>

        <!-- Pension Fund Rule -->
        <record id="hr_salary_rule_pf_c" model="hr.salary.rule">
            <field name="name">PF-C</field>
            <field name="code">PF-C</field>
            <field name="category_id" ref="hr_salary_rule_category_ded"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result = rules['NET']['total'] > categories['NET'] * 0.10
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">6</field>
        </record>

        <!-- Gross Salary Rule -->
        <record id="hr_salary_rule_brut" model="hr.salary.rule">
            <field name="name">Brut</field>
            <field name="code">Brut</field>
            <field name="category_id" ref="hr_salary_rule_category_brut"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result = rules['NET']['total'] > categories['NET'] * 0.10
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">7</field>
        </record>

        <!-- CNSS Rule -->
        <record id="hr_salary_rule_cnss" model="hr.salary.rule">
            <field name="name">CNSS</field>
            <field name="code">CNSS</field>
            <field name="category_id" ref="hr_salary_rule_category_cnss"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result = rules['NET']['total'] > categories['NET'] * 0.10
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">8</field>
        </record>

        <!-- CNAM Rule -->
        <record id="hr_salary_rule_cnam" model="hr.salary.rule">
            <field name="name">CNAM</field>
            <field name="code">CNAM</field>
            <field name="category_id" ref="hr_salary_rule_category_cnam"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result = rules['NET']['total'] > categories['NET'] * 0.10
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">9</field>
        </record>

        <!-- BI Rule -->
        <record id="hr_salary_rule_bi" model="hr.salary.rule">
            <field name="name">BI</field>
            <field name="code">BI</field>
            <field name="category_id" ref="hr_salary_rule_category_bi"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result = rules['NET']['total'] > categories['NET'] * 0.10
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">10</field>
        </record>

        <!-- ITS Rule -->
        <record id="hr_salary_rule_its" model="hr.salary.rule">
            <field name="name">ITS</field>
            <field name="code">ITS</field>
            <field name="category_id" ref="hr_salary_rule_category_its"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result = rules['NET']['total'] > categories['NET'] * 0.10
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">11</field>
        </record>

        <!-- Prime de responsabilité Rule -->
        <record id="hr_salary_rule_prg1" model="hr.salary.rule">
            <field name="name">PRG1</field>
            <field name="code">PRG1</field>
            <field name="category_id" ref="hr_salary_rule_category_primes"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'PRG1' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['PRG1'].amount if 'PRG1' in inputs else 0.0</field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">12</field>
        </record>

        <!-- Prime de polyvalence Rule -->
        <record id="hr_salary_rule_ppyv" model="hr.salary.rule">
            <field name="name">PPYV</field>
            <field name="code">PPYV</field>
            <field name="category_id" ref="hr_salary_rule_category_primes"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'PPYV' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['PPYV'].amount if 'PPYV' in inputs else 0.0</field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">13</field>
        </record>

        <!-- Prime de recherche Rule -->
        <record id="hr_salary_rule_prch" model="hr.salary.rule">
            <field name="name">PRCH</field>
            <field name="code">PRCH</field>
            <field name="category_id" ref="hr_salary_rule_category_primes"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'PRCH' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['PRCH'].amount if 'PRCH' in inputs else 0.0</field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">14</field>
        </record>

        <!-- Prime de projet Rule -->
        <record id="hr_salary_rule_pprj" model="hr.salary.rule">
            <field name="name">PPRJ</field>
            <field name="code">PPRJ</field>
            <field name="category_id" ref="hr_salary_rule_category_primes"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'PPRJ' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['PPRJ'].amount if 'PPRJ' in inputs else 0.0</field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">15</field>
        </record>

        <!-- Total Primes Rule -->
        <record id="hr_salary_rule_total_primes" model="hr.salary.rule">
            <field name="name">Total primes</field>
            <field name="code">Total primes</field>
            <field name="category_id" ref="hr_salary_rule_category_primes"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = categories['Primes']
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">16</field>
        </record>

        <!-- Loan (PRET) Rule -->
        <record id="hr_salary_rule_pret" model="hr.salary.rule">
            <field name="name">PRET</field>
            <field name="code">PRET</field>
            <field name="category_id" ref="hr_salary_rule_category_pret"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'Pret' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = -inputs['Pret'].amount if 'Pret' in inputs else 0.0</field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">17</field>
        </record>

        <!-- Advance (AVN) Rule -->
        <record id="hr_salary_rule_avn" model="hr.salary.rule">
            <field name="name">AVN</field>
            <field name="code">AVN</field>
            <field name="category_id" ref="hr_salary_rule_category_ded"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'AVN' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = -inputs['AVN'].amount if 'AVN' in inputs else 0.0</field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">18</field>
        </record>

        <!-- Total Retenues Rule -->
        <record id="hr_salary_rule_ttr" model="hr.salary.rule">
            <field name="name">TTR</field>
            <field name="code">TTR</field>
            <field name="category_id" ref="hr_salary_rule_category_ttr"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = categories['DED'] + categories['CNSS'] + categories['CNAM'] + categories['BI'] + categories['ITS']
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">19</field>
        </record>

        <!-- Rappels Rule -->
        <record id="hr_salary_rule_rppl" model="hr.salary.rule">
            <field name="name">RPPL</field>
            <field name="code">RPPL</field>
            <field name="category_id" ref="hr_salary_rule_category_alw"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'RPPL' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['RPPL'].amount if 'RPPL' in inputs else 0.0</field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">20</field>
        </record>

        <!-- Mission Rule -->
        <record id="hr_salary_rule_mssn" model="hr.salary.rule">
            <field name="name">MSSN</field>
            <field name="code">MSSN</field>
            <field name="category_id" ref="hr_salary_rule_category_alw"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'MSSN' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['MSSN'].amount if 'MSSN' in inputs else 0.0</field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">21</field>
        </record>

        <!-- A. Congé Rule -->
        <record id="hr_salary_rule_allc" model="hr.salary.rule">
            <field name="name">ALLC</field>
            <field name="code">ALLC</field>
            <field name="category_id" ref="hr_salary_rule_category_alw"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'ALLC' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['ALLC'].amount if 'ALLC' in inputs else 0.0</field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">22</field>
        </record>

        <!-- Motivations Rule -->
        <record id="hr_salary_rule_mtvt" model="hr.salary.rule">
            <field name="name">MTVT</field>
            <field name="code">MTVT</field>
            <field name="category_id" ref="hr_salary_rule_category_alw"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'MTVT' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['MTVT'].amount if 'MTVT' in inputs else 0.0</field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">23</field>
        </record>

        <!-- Commissions Rule -->
        <record id="hr_salary_rule_cmmss" model="hr.salary.rule">
            <field name="name">CMMSS</field>
            <field name="code">CMMSS</field>
            <field name="category_id" ref="hr_salary_rule_category_alw"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'CMMSS' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['CMMSS'].amount if 'CMMSS' in inputs else 0.0</field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">24</field>
        </record>

        <!-- Carburant Rule -->
        <record id="hr_salary_rule_cg1" model="hr.salary.rule">
            <field name="name">CG1</field>
            <field name="code">CG1</field>
            <field name="category_id" ref="hr_salary_rule_category_alw"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'CG1' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = inputs['CG1'].amount if 'CG1' in inputs else 0.0</field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">25</field>
        </record>

        <!-- Prêt - Anticipé Rule -->
        <record id="hr_salary_rule_pr_a" model="hr.salary.rule">
            <field name="name">PR-A</field>
            <field name="code">PR-A</field>
            <field name="category_id" ref="hr_salary_rule_category_pret"/>
            <field name="condition_select">python</field>
            <field name="condition_python">result = 'PR-A' in inputs</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">result = -inputs['PR-A'].amount if 'PR-A' in inputs else 0.0</field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">26</field>
        </record>

        <!-- Autres Attachements Rule -->
        <record id="hr_salary_rule_autres_attachements" model="hr.salary.rule">
            <field name="name">Autres Attachements</field>
            <field name="code">Autres Attachements</field>
            <field name="category_id" ref="hr_salary_rule_category_autre"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = 0.0  # To be defined based on business logic
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">27</field>
        </record>

        <!-- Net Salary Rule -->
        <record id="hr_salary_rule_net" model="hr.salary.rule">
            <field name="name">NET</field>
            <field name="code">NET</field>
            <field name="category_id" ref="hr_salary_rule_category_net"/>
            <field name="condition_select">none</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = categories['BASIC'] + categories['ALW'] + categories['Primes'] - categories['DED'] - categories['CNSS'] - categories['CNAM'] - categories['BI'] - categories['ITS'] - categories['Pret']
            </field>
            <field name="struct_id" ref="hr_payroll_structure_cadre_superieur"/>
            <field name="sequence">28</field>
        </record>

    </data>
</odoo>